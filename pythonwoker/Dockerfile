# ============================
# 1️⃣ 베이스 이미지
# ============================
FROM python:3.11-slim

# ============================
# 2️⃣ 작업 디렉토리 설정
# ============================
WORKDIR /app

# ============================
# 3️⃣ 종속성 설치
# ============================
# 빌드 컨텍스트 루트 기준 경로로 수정
COPY pythonworker/requirements.txt .
RUN pip install --no-cache-dir --upgrade pip \
    && pip install --no-cache-dir -r requirements.txt

# ============================
# 4️⃣ 소스코드 복사
# ============================
COPY pythonworker/ .

# ============================
# 5️⃣ 컨테이너 포트
# ============================
EXPOSE 5001

# ============================
# 6️⃣ 실행 명령
# ============================
CMD ["sh", "-c", "python generateIssueCard.py"]